# Neatoo 0.12.0

**Release Date:** 2026-02-26
**Type:** Bug Fix
**Breaking Changes:** No

---

## Summary

Fixes `partial Dictionary<string, string>?` properties losing their values during client-server JSON bridge round-trip serialization. Also updates RemoteFactory dependency to 10.14.0.

---

## Bug Fixes

### Dictionary Properties Survive JSON Round-Trip

`Dictionary<K,V>` partial properties on Neatoo objects (e.g., `CrmTask.Data`, `Activity.Data`) were arriving as `null` on the client after serialization through the RemoteFactory JSON bridge.

**Root cause:** System.Text.Json throws `NotSupportedException: Reference metadata is not supported when deserializing constructor parameters` because `ValidateProperty<T>` uses `[JsonConstructor]` and Dictionary values receive `$id`/`$ref` metadata from `ReferenceHandler.Preserve`.

**Fix (two parts):**

1. **NeatooBaseJsonTypeConverter** - Added manual `DeserializeValidateProperty` method that reads JSON fields individually, deserializing the `Value` field as a standalone call rather than routing through constructor parameters. This bypasses the STJ limitation while preserving `$id`/`$ref` reference resolution.

2. **RemoteFactory 10.14.0** - Removed the Dictionary special-case from `NeatooReferenceResolver.GetReference` that produced empty-string `$id` values, which caused duplicate key errors when multiple dictionaries existed in the same serialization context.

---

## Dependency Updates

| Package | Old Version | New Version |
|---------|-------------|-------------|
| Neatoo.RemoteFactory | 10.11.2 | 10.14.0 |
| Neatoo.RemoteFactory.AspNetCore | 10.11.2 | 10.14.0 |

---

## Related

- [Dictionary Serialization Fix Plan](../plans/completed/dictionary-serialization-fix.md)
- [Dictionary Serialization Todo](../todos/completed/dictionary-partial-property-serialization.md)
